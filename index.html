<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>GPA Calculator</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <!-- Introduction Card -->
        <div class="card">
            <h1>Glen Rock GPA Calculator</h1>
            <p>
                Welcome to Joseph Yoo's GPA Calculator for Glen Rock High School. <br><br>
                To begin, enter your final letter grade, the number of credits earned per course, and the course level.<br><br>
                At Glen Rock High School, full-year classes are typically worth 5 credits, while semester-long courses are worth 2.5.
                Science courses (non-AP) carry 6 credits due to the inclusion of a lab component, and AP science courses are valued at 7 credits.
                Gym and Health do not count towards GPA.<br><br>
                After inputting the data, export it in order to avoid needing to fill in everything again. Simply press import and select the file when you would like to use the calculator again later
            </p>
        </div>

        <!-- Export/Import Buttons -->
        <div style="display: flex; gap: 6px; align-items: flex-start; justify-content: flex-start; margin-bottom: 10px; flex-wrap: nowrap;">
            <button onclick="exportData()">Export Data</button>
            <button onclick="document.getElementById('fileInput').click()">Import Data</button>
            <input type="file" id="fileInput" style="display: none;" onchange="importData()" />
        </div>

        <!-- Year Sections Container -->
        <div class="card" style="padding: 10px; border: 1px solid #ccc; margin: 10px 0 20px;">
            <div class="container" id="year-sections">
                <!-- Year sections will be added here by JavaScript -->
            </div>
        </div>
        
        <!-- Calculate Button -->
        <div style="margin-top: 8px;" id="calculate-container">
            <button id="calculate">Calculate GPA</button>
            
        </div>
        
        <!-- Results Display -->
        <p id="result">GPA: </p>
        <div id="summary"></div>

        <!-- Final Grade Calculator Section -->
        <div class="card">
            <h2 style="font-size: 20px;">Final Grade Calculator</h2>
            <!-- Checkboxes for AP & Semester -->
            <div style="display: flex; gap: 20px; flex-wrap: wrap; align-items: flex-start;">
                <label style="display: inline-flex; flex-direction: column; align-items: flex-start; gap: 2px;">
                    <div style="display: flex; align-items: center; gap: 6px;">
                        <input type="checkbox" id="isAP">
                        <strong>AP</strong>
                    </div>
                    <small>(mark if your class is an AP class)</small>
                </label>
                <label style="display: inline-flex; flex-direction: column; align-items: flex-start; gap: 2px;">
                    <div style="display: flex; align-items: center; gap: 6px;">
                        <input type="checkbox" id="isSemester">
                        <strong>Semester</strong>
                    </div>
                    <small>(mark if your class is a semester class)</small>
                </label>
            </div>
            
            <!-- Grade Input Fields -->
            <div id="grade-inputs"></div>
            <br>
            <button onclick="calculateFinalGrade()">Calculate Final Grade</button>
            <p id="final-grade-result"></p>
        </div>

        <!-- How GPA is Calculated Info Card -->
        <div class="card">
            <h2>How GPA is Calculated</h2>

            <h3>GRADING SYSTEM</h3>
            <p>The Glen Rock grading system consists of thirteen letter grades: <strong>A+, A, A‑, B+, B, B‑, C+, C, C‑, D+, D, D‑, F</strong>.</p>

            <!-- Grade Scale Table -->
            <table class="grade-scale" style="width: auto; font-size: 13px; border-collapse: collapse; border: none; margin-left: 12px;">
                <tr><th style="border: none; padding: 4px 8px;">Letter</th><th style="border: none; padding: 4px 8px;">% Range</th><th style="border: none; padding: 4px 8px;">GPA</th></tr>
                <tr><td style="border: none; padding: 2px 8px;">A+</td><td style="border: none;">97+</td><td style="border: none;">4.3</td></tr>
                <tr><td style="border: none; padding: 2px 8px;">A</td><td style="border: none;">93–96</td><td style="border: none;">4.0</td></tr>
                <tr><td style="border: none; padding: 2px 8px;">A‑</td><td style="border: none;">90–92</td><td style="border: none;">3.7</td></tr>
                <tr><td style="border: none; padding: 2px 8px;">B+</td><td style="border: none;">87–89</td><td style="border: none;">3.3</td></tr>
                <tr><td style="border: none; padding: 2px 8px;">B</td><td style="border: none;">83–86</td><td style="border: none;">3.0</td></tr>
                <tr><td style="border: none; padding: 2px 8px;">B‑</td><td style="border: none;">80–82</td><td style="border: none;">2.7</td></tr>
                <tr><td style="border: none; padding: 2px 8px;">C+</td><td style="border: none;">77–79</td><td style="border: none;">2.3</td></tr>
                <tr><td style="border: none; padding: 2px 8px;">C</td><td style="border: none;">73–76</td><td style="border: none;">2.0</td></tr>
                <tr><td style="border: none; padding: 2px 8px;">C‑</td><td style="border: none;">70–72</td><td style="border: none;">1.7</td></tr>
                <tr><td style="border: none; padding: 2px 8px;">D+</td><td style="border: none;">67–69</td><td style="border: none;">1.3</td></tr>
                <tr><td style="border: none; padding: 2px 8px;">D</td><td style="border: none;">63–66</td><td style="border: none;">1.0</td></tr>
                <tr><td style="border: none; padding: 2px 8px;">D‑</td><td style="border: none;">60–62</td><td style="border: none;">0.7</td></tr>
                <tr><td style="border: none; padding: 2px 8px;">F</td><td style="border: none;">≤59</td><td style="border: none;">0.0</td></tr>
            </table>

            <p>Courses designated as <strong>Honors</strong> receive an additional 0.3 weight. <strong>AP (Advanced Placement)</strong> courses receive an additional 0.5 weight. College Prep and "Advanced" courses receive no extra weight. Physical Education and Health are not included in GPA calculations.</p>
            <h3>Step-by-Step GPA Calculation</h3>

  <ol>
    <li><strong>Convert Letter Grade to GPA:</strong> Use the table above.</li>
    <li><strong>Add Course Weight:</strong>
      <ul>
        <li>AP = +0.50</li>
        <li>Honors = +0.30</li>
        <li>CP/CP = 0</li>
      </ul>
    </li>
    <li><strong>Multiply by Credits:</strong> 
      <br>Grade Points = (Base GPA + Weight) × Credits
    </li>
    <li><strong>Add Up All Grade Points and Credits for the Year.</strong></li>
    <li><strong>Calculate GPA:</strong> 
      <br>Year GPA = Total Grade Points ÷ Total Credits
    </li>
    <li><strong>Cumulative GPA:</strong> 
      <br>Add all year totals and divide: 
      <br><code>Cumulative GPA = Σ Grade Points ÷ Σ Credits</code>
    </li>
  </ol>

  <h3>Example</h3>
  <table class="example">
    <tr style="text-align: left;"><th>Course</th><th>Level</th><th style="width: 50px;">Credits</th><th>Letter</th><th>Calc</th><th>Grade Pts</th></tr>
    <tr><td>AP Chemistry</td><td>AP</td><td>7</td><td>A‑</td><td>(3.7 + 0.5) × 7</td><td>29.4</td></tr>
    <tr><td>Honors English</td><td>Honors</td><td>5</td><td>B+</td><td>(3.3 + 0.3) × 5</td><td>18.0</td></tr>
    <tr><td>World History</td><td>CP</td><td>5</td><td>A</td><td>(4.0 + 0.0) × 5</td><td>20.0</td></tr>
    <tr class="tot"><td>Total</td><td>—</td><td>17</td><td>—</td><td>—</td><td>67.4</td></tr>
    <tr class="gpa"><td colspan="6">Year GPA = 67.4 ÷ 17 = 3.96</td></tr>
  </table>
<h2 style="margin-top: 40px;">How Final Grades Are Calculated</h2>

<p>At Glen Rock High School, your final course grade is calculated based on a weighted average of your marking period grades and final exam score. The weights vary depending on course type (AP, CP, or semester).</p>

<h3>Full-Year CP and Honors Courses</h3>
<ul>
  <li>Each Marking Period (MP1–MP4): 22.5%</li>
  <li>Final Exam: 10%</li>
</ul>
<p><em>Final Grade = MP1 × 22.5% + MP2 × 22.5% + MP3 × 22.5% + MP4 × 22.5% + Final × 10%</em></p>

<h3>Full-Year AP Courses</h3>
<ul>
  <li>Each Marking Period (MP1–MP4): 25%</li>
  <li>No final exam grade is included.</li>
</ul>
<p><em>Final Grade = MP1 × 25% + MP2 × 25% + MP3 × 25% + MP4 × 25%</em></p>

<h3>Semester Courses (CP/Honors/AP)</h3>
<ul>
  <li>Each Half: 45%</li>
  <li>Final Exam: 10% (CP/Honors only)</li>
</ul>
<p><em>Final Grade = Half 1 × 45% + Half 2 × 45% + Final × 10%</em></p>
<p><em>AP semester courses do not have a final exam. For those courses: Final Grade = Half 1 × 50% + Half 2 × 50%</em></p>

<h3>Understanding Final Letter Assignment</h3>
<p>After calculating the weighted average of your grades, the final result is matched to the closest letter grade using Glen Rock’s official scale. Though the school does not publish exact rounding cutoffs, the final letter grade is typically based on the GPA number that best represents the average performance.</p>

<p>In practice, your GPA result is interpreted using the table below, and rounded to the nearest matching grade. Here are some illustrative examples:</p>

<ul>
  <li><strong>A, A, A+, A+</strong> → <strong>Final Grade: A+</strong></li>
  <li><strong>A−, A+, A+, A+</strong> → <strong>Final Grade: A+</strong></li>
  <li><strong>B+, A+, A+ (with final exam)</strong> → <strong>Final Grade: A</strong></li>
</ul>

<p>This process is built into the calculator above. You may try entering your own grades and weights to see how it rounds!</p>
</section>
            <!-- Rest of info text continues... -->
            <!-- (Note: I've abbreviated this section in my comments to save space) -->
            
            <!-- JavaScript code remains unchanged -->
        </div>

        <script src="script.js" defer></script>

    </body>
</html>